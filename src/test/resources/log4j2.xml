<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="INFO">
    <Properties>
        <Property name="logDir">logs</Property>
    </Properties>
    <Appenders>
        <!-- Console Appender -->
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss} [%t] %-5level %logger{36} - %msg%n"/>
        </Console>
        <!-- Common File Appender for All Scenarios -->
        <File name="CommonFile" fileName="${logDir}/automation.log" append="true">
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss} [%t] %-5level %logger{36} - %msg%n"/>
        </File>
        <!-- Routing Appender for Scenario-Specific Files -->
        <Routing name="ScenarioRouting">
            <Routes pattern="$${ctx:scenarioName}">
                <Route>
                    <File name="ScenarioFile"
                          fileName="${logDir}/${ctx:scenarioName}.log"
                          append="false">
                        <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss} [%t] %-5level %logger{36} - %msg%n"/>
                    </File>
                </Route>
            </Routes>
        </Routing>
    </Appenders>
    <Loggers>
        <Root level="INFO">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="CommonFile"/> <!-- Logs to common file -->
            <AppenderRef ref="ScenarioRouting"/> <!-- Logs to scenario-specific files -->
        </Root>
    </Loggers>
</Configuration>